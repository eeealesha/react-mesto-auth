{"version":3,"sources":["components/Header.js","contex/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","images/Union.svg","images/Union-2.svg","components/InfoTooltip.js","components/Register.js","components/Login.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","email","to","page","onClick","name","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","like","cardLikeButtonClassName","type","onCardDelete","src","link","alt","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","onCardClick","Footer","PopupWithForm","isOpen","onSubmit","noValidate","onClose","title","children","buttonText","ImagePopup","createdAt","i","Api","options","this","baseUrl","headers","res","ok","json","Promise","reject","Error","status","fetch","then","_response","userName","userAbout","method","body","JSON","stringify","userAvatar","cardName","cardLink","console","log","cardId","b","base64EncodedImage","data","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","id","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","fileInputState","setFileInputState","previewSource","setPreviewSource","selectedFile","setSelectedFile","previewFile","file","reader","FileReader","readAsDataURL","onloadend","result","onUpdateAvatar","onerror","error","files","style","height","AddPlacePopup","setTitle","placeholder","ProtectedRoute","loggedIn","Component","InfoTooltip","fail","success","message","Register","setEmail","password","setPassword","handleRegister","isToolTipOpen","Login","handleLogin","BASE_URL","App","isLoggedIn","setIsLoggedIn","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setAvatarPopupOpen","isImagePopupOpen","setImagePopupOpen","selectedCard","setSelectedCard","currentEmail","setCurrentEmail","setCurrentUser","setCards","setMessage","setToolTipOpen","setError","history","useHistory","api","localStorage","getItem","closeAllPopups","all","getInitialCards","getUserInfo","values","initialCards","userData","reverse","catch","err","tokenCheck","token","auth","push","removeItem","Provider","path","setItem","undefined","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","exact","sendUserInfo","uploadImage","sendUserAvatar","url","postNewCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a7140007.chunk.js","sourcesContent":["import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Header(props) {\n  return (\n    <header className=\"header\">\n      <div className=\"header__logo\"></div>\n      <div className=\"login__wrapper\">\n        <p className=\"login__text\">\n          {props.email}\n          <Link\n            to={props.page}\n            onClick={props.onClick}\n            className=\"login__link login__link_header\"\n          >\n            {\" \"}\n            {props.name}\n          </Link>\n        </p>\n      </div>\n    </header>\n  );\n}\n","\nimport React from 'react';\n// Создайте файл src/contexts/CurrentUserContext.js и экспортируйте из него новый объект контекста.\nexport const CurrentUserContext = React.createContext();","import {CurrentUserContext} from '../contex/CurrentUserContext';\nimport React from \"react\";\n\nexport function Card(props) {\n    // Подписываемся на контекст\n    const currentUser = React.useContext(CurrentUserContext);\n    // Определяем, являемся ли мы владельцем текущей карточки\n    const isOwn = props.card.owner === currentUser._id;\n    // Создаём переменную, которую после зададим в `className` для кнопки удаления\n    const cardDeleteButtonClassName = (\n        `button button_type_delete ${isOwn ? '' : 'button_hidden'}`\n    );\n\n    // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\n    const isLiked = props.card.likes.some(like => like === currentUser._id);\n\n    // Создаём переменную, которую после зададим в `className` для кнопки лайка\n    const cardLikeButtonClassName = `button button_type_like ${isLiked ? 'button_liked' : ''}`;\n\n    return (\n        <li className=\"card__element\">\n            <div className=\"card\">\n                <button className={cardDeleteButtonClassName} type=\"button\" onClick={() => props.onCardDelete(props.card)}></button>\n                <img\n                    className=\"photo-grid__item\"\n                    src={props.card.link}\n                    alt=\"Картинка, которая иллюстрирует название\"\n                    onClick={() => props.onClick(props.card)}\n                />\n                <div className=\"photo-grid__caption\">\n                    <h2 className=\"photo-grid__title\">{props.card.name}</h2>\n                    <div className=\"photo-grid__wrapper\">\n                        <button onClick={() => props.onCardLike(props.card)} className={cardLikeButtonClassName} type=\"button\"></button>\n                        <span className=\"photo-grid__like-counter\">{props.card.likes.length}</span>\n                    </div>\n                </div>\n            </div>\n        </li>\n    )\n}","import React from \"react\";\nimport { Card } from \"./Card\";\nimport { CurrentUserContext } from \"../contex/CurrentUserContext\";\n\nexport default function Main(props) {\n  // Подписываемся на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__description\">\n          <div className=\"profile__avatar\">\n            <img\n              className=\"profile__picture\"\n              src={currentUser.avatar}\n              alt=\"Аватарка пользователя\"\n            />\n            <button\n              className=\"button botton_type_avatar\"\n              type=\"button\"\n              onClick={props.onEditAvatar}\n            ></button>\n          </div>\n          <div className=\"profile__text\">\n            <div className=\"profile__wrapper\">\n              <h1 className=\"profile__title\">{currentUser.name}</h1>\n              <button\n                className=\"button button_type_edit\"\n                type=\"button\"\n                onClick={props.onEditProfile}\n              ></button>\n            </div>\n            <p className=\"profile__subtitle\">{currentUser.about}</p>\n          </div>\n        </div>\n        <button\n          className=\"button button_type_add\"\n          type=\"button\"\n          onClick={props.onAddPlace}\n        ></button>\n      </section>\n      <section className=\"photo-grid\">\n        <ul className=\"photo-grid__list\">\n          {props.cards.map((card) => (\n            <Card\n              card={card}\n              key={card._id}\n              onClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n","export default function Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__author\">© 2020 Mesto Russia</p>\n    </footer>\n  );\n}\n","import React from \"react\";\n\nexport function PopupWithForm(props) {\n  return (\n    <div\n      className={`popup popup_type_${props.name} ${\n        props.isOpen ? \"popup_opened\" : \"\"\n      }`}\n    >\n      <form\n        onSubmit={props.onSubmit}\n        className=\"popup__container\"\n        name={`${props.name}`}\n        noValidate\n      >\n        <button\n          className=\"button button_type_close\"\n          type=\"button\"\n          onClick={props.onClose}\n        ></button>\n        <h2 className=\"popup__title\">{props.title}</h2>\n        <fieldset className=\"form\">\n          {props.children}\n          <button className=\"button button_type_submit\">\n            {props.buttonText}\n          </button>\n        </fieldset>\n      </form>\n    </div>\n  );\n}\n","import React from \"react\";\n\nexport function ImagePopup(props) {\n  return (\n    <div\n      className={`popup popup_type_fig ${props.isOpen ? \"popup_opened\" : \"\"}`}\n    >\n      <figure className=\"popup__figure\">\n        <button\n          className=\"button button_type_close\"\n          type=\"button\"\n          onClick={props.onClose}\n        ></button>\n        <img\n          className=\"popup__img\"\n          src={props.card ? props.card.link : \"\"}\n          alt={props.card ? `Картинка с изображением ${props.card.name}` : \"\"}\n        />\n        <figcaption className=\"popup__figcaption popup__figcaption-text\">\n          {props.card ? props.card.name : \"\"}\n        </figcaption>\n        <figcaption className=\"popup__figcaption popup__figcaption-owner\">\n          {props.card ? props.card.owner.name : \"\"}\n        </figcaption>\n        <figcaption className=\"popup__figcaption popup__figcaption-date\">\n          {props.card ? props.card.createdAt : \"\"}\n        </figcaption>\n        <figcaption className=\"popup__figcaption popup__figcaption-who\">\n          Кому нравится?\n        </figcaption>\n        <figcaption className=\"popup__figcaption popup__figcaption-likes\">\n          {props.card\n            ? props.card.likes.map((like, i) => <div key={i}>{like.name}</div>)\n            : \"\"}\n        </figcaption>\n      </figure>\n    </div>\n  );\n}\n","\n\nexport class Api {\n  constructor(options) {\n    this.baseUrl = options.baseUrl;\n    this.headers = options.headers;\n  }\n\n  _response(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(`Ошибка: ${res.status}`));\n  }\n\n  getUserInfo() {\n    return fetch(`${this.baseUrl}/users/me`, {\n      headers: this.headers,\n    }).then(this._response);\n  }\n\n  sendUserInfo(userName, userAbout) {\n    return fetch(`${this.baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: userName,\n        about: userAbout,\n      }),\n    }).then(this._response);\n  }\n\n  sendUserAvatar(userAvatar) {\n    return fetch(`${this.baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this.headers,\n      body: JSON.stringify({\n        avatar: userAvatar,\n      }),\n    }).then(this._response);\n  }\n\n  getInitialCards() {\n    return fetch(`${this.baseUrl}/cards`, {\n      method: \"GET\",\n      headers: this.headers,\n    }).then(this._response);\n  }\n\n  postNewCard(cardName, cardLink) {\n    console.log(this.headers)\n    return fetch(`${this.baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        name: cardName,\n        link: cardLink,\n      }),\n    }).then(this._response);\n  }\n\n  deleteCard(cardId) {\n    return fetch(`${this.baseUrl}/cards/${cardId}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then(this._response);\n  }\n\n  addLike(cardId) {\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n      method: \"PUT\",\n      headers: this.headers,\n    }).then(this._response);\n  }\n\n  removeLike(cardId) {\n    return fetch(`${this.baseUrl}/cards/likes/${cardId}`, {\n      method: \"DELETE\",\n      headers: this.headers,\n    }).then(this._response);\n  }\n\n  changeLikeCardStatus(_id, b) {\n    if (b) {\n      return fetch(`${this.baseUrl}/cards/likes/${_id}`, {\n        method: \"PUT\",\n        headers: this.headers,\n      }).then(this._response);\n    }\n    else {\n      return fetch(`${this.baseUrl}/cards/likes/${_id}`, {\n        method: \"DELETE\",\n        headers: this.headers,\n      }).then(this._response);\n    }\n  }\n\n  uploadImage(base64EncodedImage) {\n    return fetch(`${this.baseUrl}/api/upload`, {\n      method: \"POST\",\n      headers: this.headers,\n      body: JSON.stringify({\n        data: base64EncodedImage,\n      })\n    }).then(this._response);\n  }\n\n\n}\n\n// Создаем экземпляр класса АПИ с нашими настройками\n","import {PopupWithForm} from \"./PopupWithForm\";\nimport React from \"react\";\nimport {CurrentUserContext} from '../contex/CurrentUserContext';\n\n\nexport function EditProfilePopup(props) {\n    // Подписка на контекст\n    const currentUser = React.useContext(CurrentUserContext);\n    // добавьте стейт-переменные name и description и привяжите их к полям ввода, сделав их управляемыми\n    const [name, setName]= React.useState(\"\");\n    const [description, setDescription]= React.useState(\"\");\n\n    const handleNameChange = (e) => {\n        setName(e.target.value);\n    }\n    const handleDescriptionChange = (e) => {\n        setDescription(e.target.value);\n    }\n    function handleSubmit(e) {\n        // Запрещаем браузеру переходить по адресу формы\n        e.preventDefault();\n        // Передаём значения управляемых компонентов во внешний обработчик\n        props.onUpdateUser({\n            name,\n            about: description,\n        });\n    }\n    // После загрузки текущего пользователя из API\n    // его данные будут использованы в управляемых компонентах.\n    React.useEffect(() => {\n        setName(currentUser.name);\n        setDescription(currentUser.about);\n    }, [currentUser]);\n\n    return (<PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} title='Редактировать профиль'\n                           name='profile' buttonText='Сохранить' children={\n\n        <>\n            <label className=\"form__field\">\n                <input\n                    type=\"text\"\n                    className=\"form__item form__item_el_name\"\n                    id=\"name\"\n                    name=\"name\"\n                    required\n                    minLength=\"2\"\n                    maxLength=\"40\"\n                    value={name || ''}\n                    onChange={handleNameChange}\n                />\n                <div className=\"form__error-text\" id=\"name-error\"></div>\n            </label>\n            <label className=\"form__field\">\n                <input\n                    type=\"text\"\n                    className=\"form__item form__item_el_job\"\n                    id=\"job\"\n                    name=\"job\"\n                    required\n                    minLength=\"2\"\n                    maxLength=\"200\"\n                    value={description || ''}\n                    onChange={handleDescriptionChange}\n                />\n                <div className=\"form__error-text\" id=\"job-error\"></div>\n            </label>\n        </>}/>)\n}\n","import {PopupWithForm} from \"./PopupWithForm\";\nimport React from \"react\";\nimport {useState} from \"react\";\n\nexport function EditAvatarPopup(props){\n    const [fileInputState, setFileInputState] = useState('');\n    const [previewSource, setPreviewSource] = useState('');\n    const [selectedFile, setSelectedFile] = useState();\n\n    const handleFileInputChange = (e) => {\n        const file = e.target.files[0];\n        previewFile(file);\n        setSelectedFile(file);\n        setFileInputState(e.target.value);\n    };\n\n    const previewFile = (file) => {\n        const reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onloadend = () => {\n            setPreviewSource(reader.result);\n        };\n    };\n\n    const handleSubmitFile = (e) => {\n        e.preventDefault();\n        if (!selectedFile) return;\n        const reader = new FileReader();\n        reader.readAsDataURL(selectedFile);\n        reader.onloadend = () => {\n            props.onUpdateAvatar(reader.result);\n        };\n        reader.onerror = () => {\n            console.error('AHHHHHHHH!!');\n        };\n    };\n\n    React.useEffect(() => {\n        setFileInputState('');\n        setPreviewSource('');\n    }, [props.isOpen]);\n\n    return(\n        <PopupWithForm onClose={props.onClose} isOpen={props.isOpen} title='Обновить аватар'\n                       onSubmit={handleSubmitFile} name='avatar' buttonText='Сохранить' children={<>\n            <label className=\"form__field\">\n                <input\n                  id=\"fileInput\"\n                  type=\"file\"\n                  name=\"image\"\n                  onChange={handleFileInputChange}\n                  value={fileInputState}\n                  className=\"form-input\"\n                />\n            </label>\n            {previewSource && (\n              <img\n                src={previewSource}\n                alt=\"chosen\"\n                style={{ height: '300px' }}\n              />\n            )}\n        </>}/>\n    )\n}\n\n","import {PopupWithForm} from \"./PopupWithForm\";\nimport React from \"react\";\nimport {useState} from \"react\";\n\nexport function AddPlacePopup(props) {\n\tconst [fileInputState, setFileInputState] = useState('');\n\tconst [previewSource, setPreviewSource] = useState('');\n\tconst [selectedFile, setSelectedFile] = useState();\n\tconst [title, setTitle] = React.useState('');\n\n\tfunction handleTitleChange(e) {\n\t\tsetTitle(e.target.value);\n\t}\n\n\tconst handleFileInputChange = (e) => {\n\t\tconst file = e.target.files[0];\n\t\tpreviewFile(file);\n\t\tsetSelectedFile(file);\n\t\tsetFileInputState(e.target.value);\n\t};\n\n\tconst previewFile = (file) => {\n\t\tconst reader = new FileReader();\n\t\treader.readAsDataURL(file);\n\t\treader.onloadend = () => {\n\t\t\tsetPreviewSource(reader.result);\n\t\t};\n\t};\n\n\tfunction handleSubmit(e) {\n\t\te.preventDefault();\n\t\tif (!selectedFile) return;\n\t\tconst reader = new FileReader();\n\t\treader.readAsDataURL(selectedFile);\n\t\treader.onloadend = () => {\n\t\t\tprops.onAddPlace({\n\t\t\t\tname: title,\n\t\t\t\tbase64EncodedImage: reader.result\n\t\t\t})\n\t\t};\n\t\treader.onerror = () => {\n\t\t\tconsole.error('AHHHHHHHH!!');\n\t\t};\n\n\n\t}\n\n\tReact.useEffect(() => {\n\t\tsetTitle(\"\")\n\t\tsetFileInputState('');\n\t\tsetPreviewSource('');\n\t}, [props.isOpen]);\n\n\treturn (\n\t\t<PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} title='Новое место' name='add'\n\t\t               buttonText='Создать' children={\n\t\t\t<>\n\n\t\t\t\t<label className=\"form__field\">\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\tclassName=\"form__item form__item_el_place\"\n\t\t\t\t\t\tid=\"place\"\n\t\t\t\t\t\tname=\"place\"\n\t\t\t\t\t\tplaceholder=\"Название\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tminLength=\"1\"\n\t\t\t\t\t\tmaxLength=\"30\"\n\t\t\t\t\t\tvalue={title}\n\t\t\t\t\t\tonChange={handleTitleChange}\n\t\t\t\t\t/>\n\t\t\t\t\t<div className=\"form__error-text\" id=\"place-error\"></div>\n\t\t\t\t</label>\n\t\t\t\t<label className=\"form__field\">\n\t\t\t\t\t<input\n\t\t\t\t\t\tid=\"fileInput\"\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\tname=\"image\"\n\t\t\t\t\t\tonChange={handleFileInputChange}\n\t\t\t\t\t\tvalue={fileInputState}\n\t\t\t\t\t\tclassName=\"form-input\"\n\t\t\t\t\t/>\n\t\t\t\t</label>\n\t\t\t\t{previewSource && (\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={previewSource}\n\t\t\t\t\t\talt=\"chosen\"\n\t\t\t\t\t\tstyle={{height: '300px'}}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</>}/>\n\n\t)\n}","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ loggedIn, Component }) => {\n  return (\n    <Route>\n      {() => {\n        return loggedIn ? Component : <Redirect to=\"/sign-up\" />;\n      }}\n    </Route>\n  );\n};\n\nexport default ProtectedRoute;\n","export default __webpack_public_path__ + \"static/media/Union.df8eddf6.svg\";","export default __webpack_public_path__ + \"static/media/Union-2.1b6082f8.svg\";","import fail from \"../images/Union.svg\";\nimport success from \"../images/Union-2.svg\";\n\nexport function InfoTooltip(props) {\n  return (\n    <div className={`popup ${props.isOpen ? \"popup_opened\" : \"\"}`}>\n      <div className={\"popup__container\"}>\n        <button\n          className=\"button button_type_close\"\n          type=\"button\"\n          onClick={props.onClose}\n        />\n        <img\n          className={\"icon\"}\n          alt={\"icon\"}\n          src={`${props.error ? fail : success}`}\n        ></img>\n        <h2 className=\"infotooltip__title\">{props.message}</h2>\n      </div>\n    </div>\n  );\n}\n","import React from \"react\";\nimport Header from \"./Header\";\nimport {Link} from \"react-router-dom\";\nimport {InfoTooltip} from \"./InfoTooltip\";\n\nexport function Register(props) {\n\tconst [email, setEmail] = React.useState(\"\");\n\tconst [password, setPassword] = React.useState(\"\");\n\tconst [name, setName] = React.useState(\"\");\n\n\tconst resetForm = () => {\n\t\tsetEmail(\"\");\n\t\tsetPassword(\"\");\n\t\tsetName(\"\");\n\t};\n\n\tconst handleNameChange = (e) => {\n\t\tsetName(e.target.value);\n\t};\n\n\tconst handleEmailChange = (e) => {\n\t\tsetEmail(e.target.value);\n\t};\n\tconst handlePasswordChange = (e) => {\n\t\tsetPassword(e.target.value);\n\t};\n\n\tconst handleSubmit = (e) => {\n\t\te.preventDefault();\n\t\tprops.handleRegister(email, password, name);\n\t\tresetForm();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<Header name={\"Войти\"} page={\"/sign-in\"}></Header>\n\t\t\t<main className=\"login\">\n\t\t\t\t<section className=\"login__register\">\n\t\t\t\t\t<form\n\t\t\t\t\t\tonSubmit={handleSubmit}\n\t\t\t\t\t\tclassName=\"login__form\"\n\t\t\t\t\t\tname=\"register\"\n\t\t\t\t\t\tnoValidate\n\t\t\t\t\t>\n\t\t\t\t\t\t<h2 className=\"login__title\">Регистрация</h2>\n\t\t\t\t\t\t<fieldset className=\"login__field\">\n\t\t\t\t\t\t\t<label className=\"login__label\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tplaceholder=\"Введите Ваше имя\"\n\t\t\t\t\t\t\t\t\ttype=\"name\"\n\t\t\t\t\t\t\t\t\tclassName=\"login__item login__item_el_name\"\n\t\t\t\t\t\t\t\t\tid=\"userName\"\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tminLength=\"2\"\n\t\t\t\t\t\t\t\t\tmaxLength=\"40\"\n\t\t\t\t\t\t\t\t\tvalue={name || \"\"}\n\t\t\t\t\t\t\t\t\tonChange={handleNameChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<label className=\"login__label\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tplaceholder=\"Введите Ваш email\"\n\t\t\t\t\t\t\t\t\ttype=\"email\"\n\t\t\t\t\t\t\t\t\tclassName=\"login__item login__item_el_name\"\n\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tminLength=\"2\"\n\t\t\t\t\t\t\t\t\tmaxLength=\"40\"\n\t\t\t\t\t\t\t\t\tvalue={email || \"\"}\n\t\t\t\t\t\t\t\t\tonChange={handleEmailChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<label className=\"login__field\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tplaceholder=\"Введите Ваш пароль\"\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tclassName=\"login__item login__item_el_job\"\n\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tminLength=\"2\"\n\t\t\t\t\t\t\t\t\tmaxLength=\"200\"\n\t\t\t\t\t\t\t\t\tvalue={password || \"\"}\n\t\t\t\t\t\t\t\t\tonChange={handlePasswordChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t<button className=\"button button_type_login\">\n\t\t\t\t\t\t\t\tЗарегистрироваться\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</fieldset>\n\t\t\t\t\t</form>\n\t\t\t\t\t<div className=\"login__wrapper\">\n\t\t\t\t\t\t<p className=\"login__text\">\n\t\t\t\t\t\t\tУже зарегистрированы?\n\t\t\t\t\t\t\t<Link to=\"sign-in\" className=\"login__link\">\n\t\t\t\t\t\t\t\t{\" \"}\n\t\t\t\t\t\t\t\tВойти\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t</main>\n\t\t\t<InfoTooltip\n\t\t\t\tonClose={props.onClose}\n\t\t\t\tisOpen={props.isToolTipOpen}\n\t\t\t\terror={props.error}\n\t\t\t\tmessage={props.message}\n\t\t\t></InfoTooltip>\n\t\t</>\n\t);\n}\n","import React from \"react\";\nimport Header from \"./Header\";\nimport {InfoTooltip} from \"./InfoTooltip\";\n\nexport function Login(props) {\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n\n  const resetForm = () => {\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n  };\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.handleLogin(email, password);\n    resetForm();\n  };\n\n  return (\n    <>\n      <Header name={\"Регистрация\"} page={\"/sign-up\"}></Header>\n      <main className=\"login\">\n        <section className=\"login__register\">\n          <form\n            onSubmit={handleSubmit}\n            className=\"login__form\"\n            name=\"register\"\n            noValidate\n          >\n            <h2 className=\"login__title\">Вход</h2>\n            <fieldset className=\"login__field\">\n              <label className=\"login__label\">\n                <input\n                  placeholder=\"Введите Ваш email\"\n                  type=\"email\"\n                  className=\"login__item login__item_el_name\"\n                  id=\"email\"\n                  name=\"email\"\n                  required\n                  minLength=\"2\"\n                  maxLength=\"40\"\n                  value={email || \"\"}\n                  onChange={handleEmailChange}\n                />\n              </label>\n              <label className=\"login__field\">\n                <input\n                  placeholder=\"Введите Ваш пароль\"\n                  type=\"password\"\n                  className=\"login__item login__item_el_job\"\n                  id=\"password\"\n                  name=\"password\"\n                  required\n                  minLength=\"2\"\n                  maxLength=\"200\"\n                  value={password || \"\"}\n                  onChange={handlePasswordChange}\n                />\n              </label>\n              <button className=\"button button_type_login\">Войти</button>\n            </fieldset>\n          </form>\n        </section>\n      </main>\n      <InfoTooltip\n        onClose={props.onClose}\n        isOpen={props.isToolTipOpen}\n        error={props.error}\n        message={props.message}\n      ></InfoTooltip>\n    </>\n  );\n}\n","export const BASE_URL = 'http://api.eeealesha.students.nomoredomains.icu';\n\nexport const register = (email, password, name) => {\n    return fetch(`${BASE_URL}/signup`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ email, password, name })\n    })\n        .then((res) => {\n            return res.json();\n        })\n        .then((res) => {\n            return res\n        })\n        .catch((err) => {\n            return console.log(err)\n        })\n};\n\nexport const authorize = (email, password) => {\n    return fetch(`${ BASE_URL }/signin`, {\n        method: 'POST',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ email, password })\n    })\n        .then((res) => {\n            return res.json();\n        })\n        .then((data) => {\n            if (data.token) {\n                localStorage.setItem('token', data.token);\n                return data;\n            }\n        })\n        .catch((err) => {\n            return console.log(err)\n        })\n};\n\nexport const getContent = (token) => {\n    return fetch(`${BASE_URL}/users/me`, {\n        method: 'GET',\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${token}`\n        }\n    })\n        .then((res) => {\n            return res.json()\n        })\n        .then((data) => {\n            return (data)\n        })\n        .catch((err) => {\n            return console.log(err)\n        })\n};","import Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport {PopupWithForm} from \"./PopupWithForm\";\nimport {ImagePopup} from \"./ImagePopup\";\nimport React from \"react\";\nimport {Api} from \"../utils/api\";\nimport {EditProfilePopup} from \"./EditProfilePopup\";\nimport {EditAvatarPopup} from \"./EditAvatarPopup\";\nimport {AddPlacePopup} from \"./AddPlacePopup\";\nimport {Switch, Route, useHistory, Redirect} from \"react-router-dom\";\nimport ProtectedRoute from \"./ProtectedRoute\";\nimport {Register} from \"./Register\";\nimport {Login} from \"./Login\";\nimport * as auth from \"../utils/auth\";\n\n//Импортируйте этот объект в App и используйте его провайдер\n\nimport {CurrentUserContext} from \"../contex/CurrentUserContext\";\n\nfunction App() {\n\t// Создаем стейт-переменную логина\n\tconst [isLoggedIn, setIsLoggedIn] = React.useState(false);\n\t// Создаем стейт-переменные попапов\n\tconst [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(\n\t\tfalse\n\t); // true или false\n\tconst [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false); // true или false\n\tconst [isEditAvatarPopupOpen, setAvatarPopupOpen] = React.useState(false); // true или false\n\tconst [isImagePopupOpen, setImagePopupOpen] = React.useState(false); // true или false\n\t// Создаем стейт-переменную выбранной карточки\n\tconst [selectedCard, setSelectedCard] = React.useState(null);\n\t// Создайте стейт currentUser в корневом компоненте\n\tconst [currentEmail, setCurrentEmail] = React.useState(null);\n\tconst [currentUser, setCurrentUser] = React.useState({});\n\t// Создаем стейт-переменные для массива карточек\n\tconst [cards, setCards] = React.useState([]);\n\n\tconst [message, setMessage] = React.useState(\"\");\n\tconst [isToolTipOpen, setToolTipOpen] = React.useState(false);\n\tconst [error, setError] = React.useState(false);\n\n\tconst history = useHistory();\n\n\tconst api = new Api({\n\t\tbaseUrl: \"http://api.eeealesha.students.nomoredomains.icu\",\n\t\theaders: {\n\t\t\t'Accept': 'application/json',\n\t\t\t'Content-Type': 'application/json',\n\t\t\t'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n\t\t},\n\t});\n\n\tfunction updateInfo() {\n\t\tPromise.all([\n\t\t\t//в Promise.all передаем массив промисов которые нужно выполнить\n\t\t\tapi.getInitialCards(),\n\t\t\tapi.getUserInfo(),\n\t\t])\n\t\t.then((values) => {\n\t\t\t//попадаем сюда когда оба промиса будут выполнены\n\t\t\tconst [initialCards, userData] = values;\n\t\t\tsetCurrentUser(userData);\n\t\t\tinitialCards.reverse();\n\t\t\tsetCards(initialCards);\n\t\t\t// у нас есть все нужные данные, отрисовываем страницу\n\t\t})\n\t\t.catch((err) => {\n\t\t\t//попадаем сюда если один из промисов завершаться ошибкой\n\t\t\tconsole.log(err);\n\t\t});\n\t}\n\n\tReact.useEffect(() => {\n\t\tupdateInfo()\n\t}, [isLoggedIn]);\n\n\tfunction handleCardLike(card) {\n\t\t// Снова проверяем, есть ли уже лайк на этой карточке\n\t\tconst isLiked = card.likes.some((like) => like === currentUser._id);\n\t\t// Отправляем запрос в API и получаем обновлённые данные карточки\n\t\tapi\n\t\t.changeLikeCardStatus(card._id, !isLiked)\n\t\t.then((newCard) => {\n\t\t\t// Формируем новый массив на основе имеющегося, подставляя в него новую карточку\n\t\t\tconst newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n\t\t\t// Обновляем стейт\n\t\t\tsetCards(newCards);\n\t\t})\n\t\t.catch((err) => {\n\t\t\t//попадаем сюда если один из промисов завершаться ошибкой\n\t\t\tconsole.log(err);\n\t\t});\n\t}\n\n\tfunction handleCardDelete(card) {\n\t\t// Снова проверяем, являемся ли мы владельцем карточки\n\t\tconst isOwn = card.owner._id === currentUser._id;\n\t\t// Отправляем запрос в API и получаем обновлённые данные карточки\n\t\tconsole.log(card._id)\n\t\tapi\n\t\t.deleteCard(card._id, !isOwn)\n\t\t.then(() => {\n\t\t\t// Формируем новый массив на основе имеющегося, фильтраю по номеру карточки\n\t\t\tconst newCards = cards.filter((c) => c._id !== card._id);\n\t\t\t// Обновляем стейт\n\t\t\tsetCards(newCards);\n\t\t})\n\t\t.catch((err) => {\n\t\t\t//попадаем сюда если один из промисов завершаться ошибкой\n\t\t\tconsole.log(err);\n\t\t});\n\t}\n\n\tfunction handleCardClick(card) {\n\t\tsetSelectedCard(card);\n\t\tsetImagePopupOpen(true);\n\t}\n\n\tfunction handleEditAvatar() {\n\t\tsetAvatarPopupOpen(true);\n\t}\n\n\tfunction handleEditProfileClick() {\n\t\tsetEditProfilePopupOpen(true);\n\t}\n\n\tfunction handleAddPlaceClick() {\n\t\tsetAddPlacePopupOpen(true);\n\t}\n\n\tfunction handleUpdateUser({name, about}) {\n\t\tapi\n\t\t.sendUserInfo(name, about)\n\t\t.then((res) => {\n\t\t\tsetCurrentUser(res);\n\t\t\tcloseAllPopups();\n\t\t})\n\t\t.catch((err) => console.log(err));\n\t}\n\n\t// function handleUploadAvatar(base64EncodedImage){\n\t//\n\t// }\n\n\tfunction handleUpdateAvatar(base64EncodedImage) {\n\t\tapi.uploadImage(base64EncodedImage)\n\t\t.then((res) => {\n\t\t\tapi\n\t\t\t.sendUserAvatar(res.url)\n\t\t\t.then((res) => {\n\t\t\t\tsetCurrentUser(res);\n\t\t\t\tcloseAllPopups();\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t\t})\n\t\t.catch((err) => console.log(err))\n\t}\n\n\tfunction handleAddPlaceSubmit({name, base64EncodedImage}) {\n\t\tconsole.log(base64EncodedImage)\n\t\tapi.uploadImage(base64EncodedImage)\n\t\t.then((res) => {\n\t\t\tapi\n\t\t\t.postNewCard(name, res.url)\n\t\t\t.then((res) => {\n\t\t\t\tsetCards([res, ...cards]);\n\t\t\t\tcloseAllPopups();\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t\t})\n\t\t.catch((err) => {\n\t\t\tconsole.log(err)\n\t\t})\n\t}\n\n\tfunction closeAllPopups() {\n\t\tsetAvatarPopupOpen(false);\n\t\tsetEditProfilePopupOpen(false);\n\t\tsetAddPlacePopupOpen(false);\n\t\tsetSelectedCard(null);\n\t\tsetImagePopupOpen(false);\n\t\tsetToolTipOpen(false);\n\t}\n\n\tfunction handleSignOut() {\n\t\tlocalStorage.removeItem(\"token\");\n\t\thistory.push(\"/sign-in\");\n\t\tsetIsLoggedIn(false);\n\t}\n\n\tconst handleRegister = (email, password, name) => {\n\t\tsetError(false);\n\t\tif (!email || !password) {\n\t\t\tsetToolTipOpen(true);\n\t\t\tsetError(true)\n\t\t\tconsole.log(\"Введите email и пароль\");\n\t\t} else {\n\t\t\tauth\n\t\t\t.register(email, password, name)\n\t\t\t.then((res) => {\n\t\t\t\tsetToolTipOpen(true);\n\t\t\t\tif (!res.message && !res.error) {\n\t\t\t\t\tsetMessage(\"Вы успешно зарегистрировались!\");\n\t\t\t\t} else {\n\t\t\t\t\tsetError(true);\n\t\t\t\t\tsetMessage(res.message || res.error);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\tconsole.log(err);\n\t\t\t});\n\t\t}\n\t};\n\n\tconst handleLogin = (email, password) => {\n\t\tif (!email || !password) {\n\t\t\tsetToolTipOpen(true);\n\t\t\tsetError(true);\n\t\t\tsetMessage(\"Введите email и пароль\");\n\t\t} else {\n\t\t\tauth\n\t\t\t.authorize(email, password)\n\t\t\t.then((data) => {\n\t\t\t\tif (data === undefined) {\n\t\t\t\t\tsetToolTipOpen(true);\n\t\t\t\t\tsetError(true);\n\t\t\t\t\tsetMessage(\"Неправильные email или пароль\");\n\t\t\t\t}\n\t\t\t\tif (data.token) {\n\t\t\t\t\tlocalStorage.setItem(\"token\", data.token)\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t\tsetIsLoggedIn(true);\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t\t}\n\t};\n\n\tconst tokenCheck = () => {\n\t\tconst token = localStorage.getItem(\"token\");\n\t\tif (localStorage.getItem(\"token\")) {\n\t\t\tauth\n\t\t\t.getContent(token)\n\t\t\t.then((res) => {\n\t\t\t\tif (res) {\n\t\t\t\t\tsetCurrentUser(res)\n\t\t\t\t\tsetCurrentEmail(res.email);\n\t\t\t\t\tsetIsLoggedIn(true);\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t} else {\n\t\t\t\t\tlocalStorage.removeItem(\"token\");\n\t\t\t\t}\n\t\t\t})\n\t\t\t.catch((err) => console.log(err));\n\t\t}\n\t};\n\n\tReact.useEffect(() => {\n\t\ttokenCheck();\n\t}, [isLoggedIn]);\n\n\treturn (\n\t\t<>\n\t\t\t<CurrentUserContext.Provider value={currentUser}>\n\t\t\t\t<div className=\"page\">\n\t\t\t\t\t<Switch>\n\t\t\t\t\t\t<Route path=\"/sign-up\">\n\t\t\t\t\t\t\t<Register\n\t\t\t\t\t\t\t\thandleRegister={handleRegister}\n\t\t\t\t\t\t\t\terror={error}\n\t\t\t\t\t\t\t\tmessage={message}\n\t\t\t\t\t\t\t\tisToolTipOpen={isToolTipOpen}\n\t\t\t\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<Route path=\"/sign-in\">\n\t\t\t\t\t\t\t<Login handleLogin={handleLogin}\n\t\t\t\t\t\t\t       error={error}\n\t\t\t\t\t\t\t       message={message}\n\t\t\t\t\t\t\t       isToolTipOpen={isToolTipOpen}\n\t\t\t\t\t\t\t       onClose={closeAllPopups}/>\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t<ProtectedRoute\n\t\t\t\t\t\t\tpath=\"/\"\n\t\t\t\t\t\t\tloggedIn={isLoggedIn}\n\t\t\t\t\t\t\tComponent={\n\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t<Header\n\t\t\t\t\t\t\t\t\t\temail={currentEmail}\n\t\t\t\t\t\t\t\t\t\tonClick={handleSignOut}\n\t\t\t\t\t\t\t\t\t\tname=\"Выйти\"\n\t\t\t\t\t\t\t\t\t\tpage=\"/sign-in\"\n\t\t\t\t\t\t\t\t\t></Header>\n\t\t\t\t\t\t\t\t\t<Main\n\t\t\t\t\t\t\t\t\t\tcards={cards}\n\t\t\t\t\t\t\t\t\t\tonCardLike={handleCardLike}\n\t\t\t\t\t\t\t\t\t\tonCardDelete={handleCardDelete}\n\t\t\t\t\t\t\t\t\t\tonEditAvatar={handleEditAvatar}\n\t\t\t\t\t\t\t\t\t\tonAddPlace={handleAddPlaceClick}\n\t\t\t\t\t\t\t\t\t\tonEditProfile={handleEditProfileClick}\n\t\t\t\t\t\t\t\t\t\tonCardClick={handleCardClick}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Route exact path=\"/\">\n\t\t\t\t\t\t\t{isLoggedIn ? <Redirect to=\"/\"/> : <Redirect to=\"/sign-in\"/>}\n\t\t\t\t\t\t</Route>\n\t\t\t\t\t</Switch>\n\t\t\t\t\t<Footer/>\n\t\t\t\t\t<EditProfilePopup\n\t\t\t\t\t\tonUpdateUser={handleUpdateUser}\n\t\t\t\t\t\tisOpen={isEditProfilePopupOpen}\n\t\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\t/>\n\t\t\t\t\t<EditAvatarPopup\n\t\t\t\t\t\tonUpdateAvatar={handleUpdateAvatar}\n\t\t\t\t\t\tisOpen={isEditAvatarPopupOpen}\n\t\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\t/>\n\t\t\t\t\t<AddPlacePopup\n\t\t\t\t\t\tonAddPlace={handleAddPlaceSubmit}\n\t\t\t\t\t\tisOpen={isAddPlacePopupOpen}\n\t\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\t/>\n\t\t\t\t\t<PopupWithForm\n\t\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\t\ttitle=\"Вы уверены?\"\n\t\t\t\t\t\tname=\"confirm\"\n\t\t\t\t\t\tbuttonText=\"Да\"\n\t\t\t\t\t/>\n\t\t\t\t\t<ImagePopup\n\t\t\t\t\t\tonClose={closeAllPopups}\n\t\t\t\t\t\tisOpen={isImagePopupOpen}\n\t\t\t\t\t\tcard={selectedCard}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t</CurrentUserContext.Provider>\n\t\t</>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './pages/index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n      <BrowserRouter>\n            <App />\n      </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}